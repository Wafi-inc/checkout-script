"use strict";
const hosts =
    "https://account-dev.wafi.cash,https://connect-dev.wafi.cash,https://sandbox-checkout.wafi.cash,https://sandbox-account.wafi.cash,http://localhost:3000,http://localhost:3001".split(
      ","
    ),
  WafiCheckout = {
    launch: (t, e) => {
      const { selector: s, success: c, cancel: a, error: n } = e,
        o = document.getElementById(s);
      o.setAttribute("src", t),
        window.addEventListener(
          "message",
          function (t) {
            if (!hosts.includes(t.origin)) return;
            const { event: e, data: s } = t.data;
            "success" === e && c && (c(s), o.parentElement.removeChild(o)),
              "error" === e && n && n(s),
              "cancel" === e && a && (a(s), o.parentElement.removeChild(o));
          },
          !1
        );
    },
  };
export default WafiCheckout;
