"use strict";
const hosts =
    "https://account-dev.wafi.cash,https://connect-dev.wafi.cash,https://sandbox-checkout.wafi.cash,https://sandbox-account.wafi.cash,http://localhost:3000,http://localhost:3001".split(
      ","
    ),
  WafiCheckout = {
    launch: (t, e) => {
      const { selector: s, success: c, cancel: o, error: a } = e,
        n = document.getElementById(s);
      n.setAttribute("src", t),
        window.addEventListener(
          "message",
          function (t) {
            if (!hosts.includes(t.origin)) return;
            const { event: e, data: s } = t.data;
            "success" === e && c && (c(s), n.parentElement.removeChild(n)),
              "error" === e && a && a(s),
              "cancel" === e && o && (o(s), n.parentElement.removeChild(n));
          },
          !1
        );
    },
  };
module.exports = { WafiCheckout: WafiCheckout };
