"use strict";
const hosts =
    "https://account-dev.wafi.cash,https://connect-dev.wafi.cash,https://sandbox-checkout.wafi.cash,https://sandbox-account.wafi.cash,http://localhost:3000,http://localhost:3001".split(
      ","
    ),
  WafiCheckout = {
    launch: (e, t) => {
      const { selector: s, success: o, cancel: c, error: a } = t;
      window.open(
        e,
        "popUpWindow",
        "height=500,width=500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"
      ),
        window.addEventListener(
          "message",
          function (e) {
            if (
              (console.log("message got here - index"),
              !hosts.includes(e.origin))
            )
              return;
            const { event: t, data: s } = e.data;
            "success" === t && o && (o(s), el.parentElement.removeChild(el)),
              "error" === t && a && a(s),
              "cancel" === t && c && (c(s), el.parentElement.removeChild(el));
          },
          !1
        );
    },
  };
export default WafiCheckout;
