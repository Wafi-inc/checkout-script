"use strict";
(function (e) {
  console.log("connected to checkout script window", e);
  const t =
      "https://account-dev.wafi.cash,https://connect-dev.wafi.cash,https://sandbox-checkout.wafi.cash,https://sandbox-account.wafi.cash,http://localhost:3000,http://localhost:3001".split(
        ","
      ),
    o = {
      launch: (o, s) => {
        const { selector: c, success: n, cancel: a, error: l } = s;
        e.open(
          o,
          "popUpWindow",
          "height=500,width=500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"
        ),
          e.addEventListener(
            "message",
            function (e) {
              if ((console.log("message got here"), !t.includes(e.origin)))
                return;
              const { event: o, data: s } = e.data;
              "success" === o && n && (n(s), el.parentElement.removeChild(el)),
                "error" === o && l && l(s),
                "cancel" === o && a && (a(s), el.parentElement.removeChild(el));
            },
            !1
          );
      },
    };
  e.WafiCheckout = o;
})(window);
